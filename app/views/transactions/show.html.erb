<% content_for :title, "Détail de la Transaction" %>

<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="mb-0">Détail de la Transaction</h1>
    <%= link_to 'Retour à la liste', transactions_path, class: 'btn btn-outline-primary' %>
  </div>

  <div class="card shadow-sm">
    <div class="card-body">
      <div class="row">
        <div class="col-md-6 mb-3">
          <strong>Date :</strong>
          <p><%= l @transaction.date_transaction, format: :long %></p>
        </div>
        <div class="col-md-6 mb-3">
          <strong>Montant :</strong>
          <p class="fw-bold <%= @transaction.mouvement == 'Recette' ? 'text-success' : 'text-danger' %>">
            <%= number_to_currency(@transaction.montant, unit: "€", separator: ",", delimiter: " ", format: "%n %u") %>
          </p>
        </div>
      </div>
      <div class="mb-3">
        <strong>Description :</strong>
        <p><%= @transaction.description %></p>
      </div>
      <hr>
      <div class="row">
        <div class="col-md-4 mb-3"><strong>Type :</strong> <%= @transaction.mouvement %></div>
        <div class="col-md-4 mb-3"><strong>Origine :</strong> <%= @transaction.source_transaction %></div>
        <div class="col-md-4 mb-3"><strong>Méthode de paiement :</strong> <%= @transaction.payment_method %></div>
      </div>
      <div class="row">
        <div class="col-md-6 mb-3">
          <strong>Adhérent associé :</strong>
          <p><%= @transaction.user ? link_to(@transaction.user.name, user_path(@transaction.user)) : "Aucun" %></p>
        </div>
      </div>
    </div>
  </div>
</div>